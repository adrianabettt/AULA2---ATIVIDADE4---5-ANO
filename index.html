<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Avalia√ß√£o de L√≥gica: Atividade 02</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #fff5f8; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .app-container { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); width: 100%; max-width: 800px; text-align: center; border-top: 6px solid #e91e63; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .score-box { background: #fce4ec; color: #e91e63; padding: 10px 20px; border-radius: 10px; font-weight: bold; font-size: 1.2em; border: 2px solid #e91e63; }
        .level-badge { background: #333; color: white; padding: 5px 15px; border-radius: 5px; }
        
        .mission-text { background: #fce4ec; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 1.1em; color: #ad1457; min-height: 60px; display: flex; flex-direction: column; justify-content: center; border-left: 5px solid #e91e63; }
        
        .list-visual { display: flex; justify-content: center; gap: 12px; margin: 40px 0; padding: 25px; background: #fafafa; border-radius: 10px; border: 2px solid #f8bbd0; min-height: 100px; flex-wrap: wrap; }
        .node { position: relative; padding: 15px 20px; background: #fff; color: #333; border: 2px solid #e91e63; border-radius: 8px; font-weight: bold; font-size: 1.1em; transition: 0.3s; cursor: pointer; }
        .node.selected { background: #e91e63 !important; color: white !important; transform: scale(1.05); }
        .node.correct-reveal { background: #28a745 !important; color: white !important; border-color: #1e7e34; }
        .index-label { position: absolute; top: -25px; left: 0; width: 100%; text-align: center; color: #888; font-size: 0.75em; font-weight: bold; }
        
        button { padding: 15px 30px; font-size: 1.1em; background: #e91e63; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.2s; margin-top: 10px; }
        button:hover { background: #c2185b; }
        button:disabled { background: #ccc !important; cursor: not-allowed; }
        
        #feedback { margin-top: 20px; font-weight: bold; min-height: 40px; padding: 10px; border-radius: 5px; }
        .status-correct { background: #d4edda; color: #155724; }
        .status-wrong { background: #f8d7da; color: #721c24; }
        .win-screen { display: none; padding: 40px; }
    </style>
</head>
<body>

<div class="app-container" id="game-ui">
    <div class="header">
        <div class="level-badge">Desafio <span id="level-num">1</span> de 10</div>
        <div class="score-box">Nota Final: <span id="pts">0</span> / 10</div>
    </div>

    <div class="mission-text" id="mission">
        <strong>CATEGORIA:</strong> <span id="category-name">Frutas</span><br>
        <small>Selecione o item que N√ÉO pertence √† categoria e confirme sua escolha.</small>
    </div>

    

    <div class="list-visual" id="listDisplay"></div>

    <button id="btnAction" onclick="checkAnswer()">Confirmar Inspe√ß√£o (Chance √önica)</button>
    
    <div id="feedback"></div>
</div>

<div class="app-container win-screen" id="win-ui">
    <h1 style="color: #e91e63;">üìä Inspe√ß√£o Finalizada</h1>
    <p style="font-size: 1.5em;">Sua pontua√ß√£o de an√°lise foi: <strong id="final-score">0</strong> de 10</p>
    <p id="evaluation-text"></p>
    <button onclick="location.reload()" style="background: #333; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Reiniciar Avalia√ß√£o</button>
</div>

<script>
    const challenges = [
        { cat: "FRUTAS", list: ["Ma√ß√£", "Uva", "Cachorro", "Pera"], target: 2 },
        { cat: "N√öMEROS", list: [10, 20, "Trinta", 40, 50], target: 2 },
        { cat: "CORES", list: ["Azul", "Verde", "Banana", "Amarelo"], target: 2 },
        { cat: "ANIMAIS", list: ["Gato", "Carro", "Cachorro", "Le√£o"], target: 1 },
        { cat: "OBJETOS ESCOLARES", list: ["L√°pis", "Borracha", "Pizza", "Caderno"], target: 2 },
        { cat: "NOMES PR√ìPRIOS", list: ["Ana", "Bia", "123", "Caio"], target: 2 },
        { cat: "DIAS DA SEMANA", list: ["Segunda", "Janeiro", "Ter√ßa", "Quarta"], target: 1 },
        { cat: "PA√çSES", list: ["Brasil", "Chile", "Paris", "M√©xico"], target: 2 },
        { cat: "ESPORTES", list: ["Futebol", "T√™nis", "Nata√ß√£o", "Martelo"], target: 3 },
        { cat: "SABORES DE SORVETE", list: ["Chocolate", "Creme", "Sab√£o", "Morango"], target: 2 }
    ];

    let currentLevel = 0;
    let score = 0;
    let selectedIdx = -1;

    function initLevel() {
        const c = challenges[currentLevel];
        document.getElementById('level-num').innerText = currentLevel + 1;
        document.getElementById('category-name').innerText = c.cat;
        selectedIdx = -1;
        
        const display = document.getElementById('listDisplay');
        display.innerHTML = '';
        c.list.forEach((v, i) => {
            const node = document.createElement('div');
            node.className = 'node';
            node.id = 'node-' + i;
            node.innerHTML = `<span class="index-label">√≠ndice ${i}</span>${v}`;
            node.onclick = () => selectNode(i);
            display.appendChild(node);
        });
        
        const fb = document.getElementById('feedback');
        fb.innerText = "";
        fb.className = "";
        document.getElementById('btnAction').disabled = false;
    }

    function selectNode(idx) {
        if(document.getElementById('btnAction').disabled) return;
        selectedIdx = idx;
        const nodes = document.querySelectorAll('.node');
        nodes.forEach((n, i) => {
            n.classList.toggle('selected', i === idx);
        });
    }

    function checkAnswer() {
        if(selectedIdx === -1) {
            const fb = document.getElementById('feedback');
            fb.innerText = "‚ö†Ô∏è Voc√™ precisa selecionar um item antes de confirmar!";
            fb.style.color = "#ad1457";
            return;
        }

        const c = challenges[currentLevel];
        const fb = document.getElementById('feedback');
        document.getElementById('btnAction').disabled = true;

        if(selectedIdx === c.target) {
            score++;
            document.getElementById('pts').innerText = score;
            fb.innerHTML = "‚úÖ RESPOSTA CORRETA! O intruso foi removido.";
            fb.className = "status-correct";
        } else {
            fb.innerHTML = `‚ùå INCORRETO! O intruso era <b>${c.list[c.target]}</b> no √≠ndice ${c.target}.`;
            fb.className = "status-wrong";
            // Destaca em verde onde era o correto para o aluno aprender
            document.getElementById('node-' + c.target).classList.add('correct-reveal');
        }

        setTimeout(() => {
            currentLevel++;
            if(currentLevel < challenges.length) {
                initLevel();
            } else {
                showResults();
            }
        }, 2500);
    }

    function showResults() {
        document.getElementById('game-ui').style.display = 'none';
        document.getElementById('win-ui').style.display = 'block';
        document.getElementById('final-score').innerText = score;
        
        const evalTxt = document.getElementById('evaluation-text');
        if(score >= 8) evalTxt.innerText = "Excelente! Seu senso anal√≠tico para dados est√° muito agu√ßado.";
        else if(score >= 5) evalTxt.innerText = "Bom desempenho. Voc√™ consegue identificar padr√µes na maioria das vezes.";
        else evalTxt.innerText = "Aten√ß√£o! Pratique mais a classifica√ß√£o de categorias e tipos de dados.";
    }

    initLevel();
</script>

</body>
</html>
